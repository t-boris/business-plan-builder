---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [package.json, vite.config.ts, tsconfig.json, tsconfig.app.json, firebase.json, .firebaserc, .env.local, .env.example, .gitignore, src/lib/firebase.ts, src/lib/utils.ts, src/app/App.tsx, src/app/providers.tsx, src/main.tsx, src/index.css, components.json, tailwind.config.ts, postcss.config.js]
autonomous: true
---

<objective>
Scaffold the complete Vite + React + TypeScript project with Firebase configuration, shadcn/ui initialization, and a working app shell with providers.

Purpose: Create the project foundation that all subsequent plans build on — a running dev server with all dependencies installed, Firebase configured, and core providers (Jotai, Router) wired up.
Output: Working `npm run dev` that renders a basic page, `npm run build` passes, Firebase config ready for deployment.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React + TS project and install all dependencies</name>
  <files>package.json, vite.config.ts, tsconfig.json, tsconfig.app.json, .gitignore, src/main.tsx, src/index.css, postcss.config.js</files>
  <action>
  1. Run `npm create vite@latest . -- --template react-ts` to scaffold in the current directory (project root already has .planning/).
  2. Install core dependencies:
     ```
     npm install firebase react-router jotai recharts lucide-react
     ```
  3. Install dev dependencies for Tailwind CSS v4 (needed by shadcn/ui):
     ```
     npm install -D tailwindcss @tailwindcss/vite
     ```
  4. Update `vite.config.ts`:
     - Add `@` path alias: `resolve: { alias: { '@': path.resolve(__dirname, './src') } }`
     - Add `optimizeDeps.include: ['firebase/app', 'firebase/firestore']` to prevent Firebase import issues
     - Add tailwindcss plugin from `@tailwindcss/vite`
     - Import `path` from 'path' at top
  5. Update `tsconfig.app.json` to add path alias: `"paths": { "@/*": ["./src/*"] }`
  6. Replace `src/index.css` with Tailwind v4 import: `@import "tailwindcss";`
  7. Clean up Vite scaffold: remove `src/App.css`, `src/assets/`, default counter code from `App.tsx`
  8. Update `.gitignore` to include: `.env.local`, `.env*.local`, `node_modules/`, `dist/`, `.firebase/`

  **Do NOT** use `@tailwind` directives (that's Tailwind v3 syntax). Tailwind v4 uses `@import "tailwindcss"`.
  **Do NOT** install `autoprefixer` — Tailwind v4 with the Vite plugin does not need it.
  </action>
  <verify>npm run build succeeds without errors</verify>
  <done>Vite + React + TS project scaffolded with all dependencies, Tailwind v4 configured, build passes</done>
</task>

<task type="auto">
  <name>Task 2: Configure Firebase, shadcn/ui, and app shell with providers</name>
  <files>firebase.json, .firebaserc, .env.local, .env.example, src/lib/firebase.ts, src/lib/utils.ts, src/app/App.tsx, src/app/providers.tsx, src/main.tsx, components.json</files>
  <action>
  1. Create `firebase.json` for SPA hosting:
     ```json
     {
       "hosting": {
         "public": "dist",
         "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
         "rewrites": [{ "source": "**", "destination": "/index.html" }]
       },
       "emulators": {
         "firestore": { "port": 8080 },
         "ui": { "enabled": true }
       }
     }
     ```

  2. Create `.firebaserc` with placeholder project ID:
     ```json
     { "projects": { "default": "fun-box-planning" } }
     ```

  3. Create `.env.local` with placeholder Firebase config (VITE_ prefix required):
     ```
     VITE_FIREBASE_API_KEY=placeholder
     VITE_FIREBASE_AUTH_DOMAIN=placeholder.firebaseapp.com
     VITE_FIREBASE_PROJECT_ID=fun-box-planning
     VITE_FIREBASE_STORAGE_BUCKET=placeholder.appspot.com
     VITE_FIREBASE_MESSAGING_SENDER_ID=000000000000
     VITE_FIREBASE_APP_ID=1:000000000000:web:placeholder
     ```

  4. Create `.env.example` with same keys but empty values (for git tracking).

  5. Create `src/lib/firebase.ts`:
     - Initialize Firebase app with `import.meta.env.VITE_*` config
     - Export `db` (Firestore instance)
     - Conditionally connect to Firestore emulator when `import.meta.env.DEV` is true
     - Use modular Firebase API only (not compat)

  6. Initialize shadcn/ui: run `npx shadcn@latest init` with:
     - Style: default
     - Base color: neutral
     - CSS variables: yes
     - Use `@` alias for components
     Then add core components: `npx shadcn@latest add button card input select textarea tabs`

  7. Create `src/lib/utils.ts` with `cn()` helper (shadcn/ui standard):
     ```typescript
     import { clsx, type ClassValue } from "clsx";
     import { twMerge } from "tailwind-merge";
     export function cn(...inputs: ClassValue[]) { return twMerge(clsx(inputs)); }
     ```
     Note: shadcn init may create this automatically — check before creating.

  8. Create `src/app/providers.tsx`:
     - Import and wrap with Jotai `Provider`
     - Import and wrap with `BrowserRouter` from react-router
     - Export `Providers` component that wraps children

  9. Create `src/app/App.tsx`:
     - Simple shell that renders `<Outlet />` placeholder (for router to fill later)
     - Display "Fun Box Planning" heading as placeholder

  10. Update `src/main.tsx`:
      - Import `Providers` and wrap `<App />` with it
      - Import `src/index.css`

  **Do NOT** use Firebase compat imports (`firebase/compat/*`).
  **Do NOT** create `tailwind.config.ts` — Tailwind v4 with Vite plugin uses CSS-based config, not JS config.
  </action>
  <verify>npm run dev starts without errors, browser shows "Fun Box Planning" heading, npm run build succeeds</verify>
  <done>Firebase configured with emulator support, shadcn/ui initialized with core components, app shell renders with Jotai + Router providers</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without TypeScript errors
- [ ] `npm run dev` starts and renders the app shell
- [ ] Firebase config exists (firebase.json, .env.local, src/lib/firebase.ts)
- [ ] shadcn/ui components installed (check src/components/ui/ directory)
- [ ] Path alias `@/` works in imports
- [ ] .env.local is gitignored, .env.example is tracked
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Project builds and runs locally
- Firebase config ready (placeholder credentials, emulator support)
- shadcn/ui initialized with core components
- Providers (Jotai + BrowserRouter) wired up
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
